/*! mentDoc.js 15-05-2013 */
var Markdown;Markdown="object"==typeof exports&&"function"==typeof require?exports:{},function(){function t(t){return t}function n(){return!1}function e(){}function r(){}e.prototype={chain:function(n,e){var r=this[n];if(!r)throw Error("unknown hook "+n);this[n]=r===t?e:function(){var t=Array.prototype.slice.call(arguments,0);return t[0]=r.apply(null,t),e.apply(null,t)}},set:function(t,n){if(!this[t])throw Error("unknown hook "+t);this[t]=n},addNoop:function(n){this[n]=t},addFalse:function(t){this[t]=n}},Markdown.HookCollection=e,r.prototype={set:function(t,n){this["s_"+t]=n},get:function(t){return this["s_"+t]}},Markdown.Converter=function(){function t(t){return t=t.replace(/^[ ]{0,3}\[(.+)\]:[ \t]*\n?[ \t]*<?(\S+?)>?(?=\s|$)[ \t]*\n?[ \t]*((\n*)["(](.+?)[")][ \t]*)?(?:\n+)/gm,function(t,n,e,r,o,i){return n=n.toLowerCase(),N.set(n,b(e)),o?r:(i&&R.set(n,i.replace(/"/g,"&quot;")),"")})}function n(t){return t=t.replace(/^(<(p|div|h[1-6]|blockquote|pre|table|dl|ol|ul|script|noscript|form|fieldset|iframe|math|ins|del)\b[^\r]*?\n<\/\2>[ \t]*(?=\n+))/gm,o),t=t.replace(/^(<(p|div|h[1-6]|blockquote|pre|table|dl|ol|ul|script|noscript|form|fieldset|iframe|math)\b[^\r]*?.*<\/\2>[ \t]*(?=\n+)\n)/gm,o),t=t.replace(/\n[ ]{0,3}((<(hr)\b([^<>])*?\/?>)[ \t]*(?=\n{2,}))/g,o),t=t.replace(/\n\n[ ]{0,3}(<!(--(?:|(?:[^>-]|-[^>])(?:[^-]|-[^-])*)--)>[ \t]*(?=\n{2,}))/g,o),t=t.replace(/(?:\n\n)([ ]{0,3}(?:<([?%])[^\r]*?\2>)[ \t]*(?=\n{2,}))/g,o)}function o(t,n){var e=n;return e=e.replace(/^\n+/,""),e=e.replace(/\n+$/g,""),e="\n\n~K"+(O.push(e)-1)+"K\n\n"}function i(t,e){t=T.preBlockGamut(t,L),t=f(t);var r="<hr />\n";return t=t.replace(/^[ ]{0,2}([ ]?\*[ ]?){3,}[ \t]*$/gm,r),t=t.replace(/^[ ]{0,2}([ ]?-[ ]?){3,}[ \t]*$/gm,r),t=t.replace(/^[ ]{0,2}([ ]?_[ ]?){3,}[ \t]*$/gm,r),t=d(t),t=m(t),t=C(t),t=T.postBlockGamut(t,L),t=n(t),t=E(t,e)}function a(t){return t=T.preSpanGamut(t),t=y(t),t=c(t),t=w(t),t=u(t),t=s(t),t=_(t),t=t.replace(/~P/g,"://"),t=b(t),t=x(t),t=t.replace(/  +\n/g," <br>\n"),t=T.postSpanGamut(t)}function c(t){var n=/(<[a-z\/!$]("[^"]*"|'[^']*'|[^'">])*>|<!(--(?:|(?:[^>-]|-[^>])(?:[^-]|-[^-])*)--)>)/gi;return t=t.replace(n,function(t){var n=t.replace(/(.)<\/?code>(?=.)/g,"$1`");return n=B(n,"!"==t.charAt(1)?"\\`*_/":"\\`*_")})}function s(t){return t=t.replace(/(\[((?:\[[^\]]*\]|[^\[\]])*)\][ ]?(?:\n[ ]*)?\[(.*?)\])()()()()/g,l),t=t.replace(/(\[((?:\[[^\]]*\]|[^\[\]])*)\]\([ \t]*()<?((?:\([^)]*\)|[^()\s])*?)>?[ \t]*((['"])(.*?)\6[ \t]*)?\))/g,l),t=t.replace(/(\[([^\[\]]+)\])()()()()()/g,l)}function l(t,n,e,r,o,i,a,c){void 0==c&&(c="");var s=n,l=e.replace(/:\/\//g,"~P"),u=r.toLowerCase(),h=o,f=c;if(""==h)if(""==u&&(u=l.toLowerCase().replace(/ ?\n/g," ")),h="#"+u,void 0!=N.get(u))h=N.get(u),void 0!=R.get(u)&&(f=R.get(u));else{if(!(s.search(/\(\s*\)$/m)>-1))return s;h=""}h=j(h),h=B(h,"*_");var d='<a href="'+h+'"';return""!=f&&(f=p(f),f=B(f,"*_"),d+=' title="'+f+'"'),d+=">"+l+"</a>"}function u(t){return t=t.replace(/(!\[(.*?)\][ ]?(?:\n[ ]*)?\[(.*?)\])()()()()/g,h),t=t.replace(/(!\[(.*?)\]\s?\([ \t]*()<?(\S+?)>?[ \t]*((['"])(.*?)\6[ \t]*)?\))/g,h)}function p(t){return t.replace(/>/g,"&gt;").replace(/</g,"&lt;").replace(/"/g,"&quot;")}function h(t,n,e,r,o,i,a,c){var s=n,l=e,u=r.toLowerCase(),h=o,f=c;if(f||(f=""),""==h){if(""==u&&(u=l.toLowerCase().replace(/ ?\n/g," ")),h="#"+u,void 0==N.get(u))return s;h=N.get(u),void 0!=R.get(u)&&(f=R.get(u))}l=B(p(l),"*_[]()"),h=B(h,"*_");var d='<img src="'+h+'" alt="'+l+'"';return f=p(f),f=B(f,"*_"),d+=' title="'+f+'"',d+=" />"}function f(t){return t=t.replace(/^(.+)[ \t]*\n=+[ \t]*\n+/gm,function(t,n){return"<h1>"+a(n)+"</h1>\n\n"}),t=t.replace(/^(.+)[ \t]*\n-+[ \t]*\n+/gm,function(t,n){return"<h2>"+a(n)+"</h2>\n\n"}),t=t.replace(/^(\#{1,6})[ \t]*(.+?)[ \t]*\#*\n+/gm,function(t,n,e){var r=n.length;return"<h"+r+">"+a(e)+"</h"+r+">\n\n"})}function d(t,n){t+="~0";var e=/^(([ ]{0,3}([*+-]|\d+[.])[ \t]+)[^\r]+?(~0|\n{2,}(?=\S)(?![ \t]*(?:[*+-]|\d+[.])[ \t]+)))/gm;return z?t=t.replace(e,function(t,e,r){var o=e,i=r.search(/[*+-]/g)>-1?"ul":"ol",a=g(o,i,n);return a=a.replace(/\s+$/,""),a="<"+i+">"+a+"</"+i+">\n"}):(e=/(\n\n|^\n?)(([ ]{0,3}([*+-]|\d+[.])[ \t]+)[^\r]+?(~0|\n{2,}(?=\S)(?![ \t]*(?:[*+-]|\d+[.])[ \t]+)))/g,t=t.replace(e,function(t,n,e,r){var o=n,i=e,a=r.search(/[*+-]/g)>-1?"ul":"ol",c=g(i,a);return c=o+"<"+a+">\n"+c+"</"+a+">\n"})),t=t.replace(/~0/,"")}function g(t,n,e){z++,t=t.replace(/\n{2,}$/,"\n"),t+="~0";var r=P[n],o=RegExp("(^[ \\t]*)("+r+")[ \\t]+([^\\r]+?(\\n+))(?=(~0|\\1("+r+")[ \\t]+))","gm"),c=!1;return t=t.replace(o,function(t,n,r,o){var s=o,l=/\n\n$/.test(s),u=l||s.search(/\n{2,}/)>-1;return u||c?s=i(M(s),!0):(s=d(M(s),!0),s=s.replace(/\n$/,""),e||(s=a(s))),c=l,"<li>"+s+"</li>\n"}),t=t.replace(/~0/g,""),z--,t}function m(t){return t+="~0",t=t.replace(/(?:\n\n|^\n?)((?:(?:[ ]{4}|\t).*\n+)+)(\n*[ ]{0,3}[^ \t\n]|(?=~0))/g,function(t,n,e){var r=n,o=e;return r=k(M(r)),r=S(r),r=r.replace(/^\n+/g,""),r=r.replace(/\n+$/g,""),r="<pre><code>"+r+"\n</code></pre>","\n\n"+r+"\n\n"+o}),t=t.replace(/~0/,"")}function v(t){return t=t.replace(/(^\n+|\n+$)/g,""),"\n\n~K"+(O.push(t)-1)+"K\n\n"}function y(t){return t=t.replace(/(^|[^\\])(`+)([^\r]*?[^`])\2(?!`)/gm,function(t,n,e,r){var o=r;return o=o.replace(/^([ \t]*)/g,""),o=o.replace(/[ \t]*$/g,""),o=k(o),o=o.replace(/:\/\//g,"~P"),n+"<code>"+o+"</code>"})}function k(t){return t=t.replace(/&/g,"&amp;"),t=t.replace(/</g,"&lt;"),t=t.replace(/>/g,"&gt;"),t=B(t,"*_{}[]\\",!1)}function x(t){return t=t.replace(/([\W_]|^)(\*\*|__)(?=\S)([^\r]*?\S[\*_]*)\2([\W_]|$)/g,"$1<strong>$3</strong>$4"),t=t.replace(/([\W_]|^)(\*|_)(?=\S)([^\r\*_]*?\S)\2([\W_]|$)/g,"$1<em>$3</em>$4")}function C(t){return t=t.replace(/((^[ \t]*>[ \t]?.+\n(.+\n)*\n*)+)/gm,function(t,n){var e=n;return e=e.replace(/^[ \t]*>[ \t]?/gm,"~0"),e=e.replace(/~0/g,""),e=e.replace(/^[ \t]+$/gm,""),e=i(e),e=e.replace(/(^|\n)/g,"$1  "),e=e.replace(/(\s*<pre>[^\r]+?<\/pre>)/gm,function(t,n){var e=n;return e=e.replace(/^  /gm,"~0"),e=e.replace(/~0/g,"")}),v("<blockquote>\n"+e+"\n</blockquote>")})}function E(t,n){t=t.replace(/^\n+/g,""),t=t.replace(/\n+$/g,"");for(var e=t.split(/\n{2,}/g),r=[],o=/~K(\d+)K/,i=e.length,c=0;i>c;c++){var s=e[c];o.test(s)?r.push(s):/\S/.test(s)&&(s=a(s),s=s.replace(/^([ \t]*)/g,"<p>"),s+="</p>",r.push(s))}if(!n){i=r.length;for(var c=0;i>c;c++)for(var l=!0;l;)l=!1,r[c]=r[c].replace(/~K(\d+)K/g,function(t,n){return l=!0,O[n]})}return r.join("\n\n")}function b(t){return t=t.replace(/&(?!#?[xX]?(?:[0-9a-fA-F]+|\w+);)/g,"&amp;"),t=t.replace(/<(?![a-z\/?!]|~D)/gi,"&lt;")}function w(t){return t=t.replace(/\\(\\)/g,D),t=t.replace(/\\([`*_{}\[\]()>#+-.!])/g,D)}function $(t,n,e,r){if(n)return t;if(")"!==r.charAt(r.length-1))return"<"+e+r+">";for(var o=r.match(/[()]/g),i=0,a=0;o.length>a;a++)"("===o[a]?0>=i?i=1:i++:i--;var c="";if(0>i){var s=RegExp("\\){1,"+-i+"}$");r=r.replace(s,function(t){return c=t,""})}return"<"+e+r+">"+c}function _(t){t=t.replace(/(="|<)?\b(https?|ftp)(:\/\/[-A-Z0-9+&@#\/%?=~_|\[\]\(\)!:,\.;]*[-A-Z0-9+&@#\/%=~_|\[\])])(?=$|\W)/gi,$);var n=function(t,n){return'<a href="'+n+'">'+T.plainLinkText(n)+"</a>"};return t=t.replace(/<((https?|ftp):[^'">\s]+)>/gi,n)}function A(t){return t=t.replace(/~E(\d+)E/g,function(t,n){var e=parseInt(n);return String.fromCharCode(e)})}function M(t){return t=t.replace(/^(\t|[ ]{1,4})/gm,"~0"),t=t.replace(/~0/g,"")}function S(t){if(!/\t/.test(t))return t;var n,e=["    ","   ","  "," "],r=0;return t.replace(/[\n\t]/g,function(t,o){return"\n"===t?(r=o+1,t):(n=(o-r)%4,r=o+1,e[n])})}function j(t){if(!t)return"";var n=t.length;return t.replace(H,function(e,r){return"~D"==e?"%24":":"!=e||r!=n-1&&!/[0-9\/]/.test(t.charAt(r+1))?"%"+e.charCodeAt(0).toString(16):":"})}function B(t,n,e){var r="(["+n.replace(/([\[\]\\])/g,"\\$1")+"])";e&&(r="\\\\"+r);var o=RegExp(r,"g");return t=t.replace(o,D)}function D(t,n){var e=n.charCodeAt(0);return"~E"+e+"E"}var T=this.hooks=new e;T.addNoop("plainLinkText"),T.addNoop("preConversion"),T.addNoop("postNormalization"),T.addNoop("preBlockGamut"),T.addNoop("postBlockGamut"),T.addNoop("preSpanGamut"),T.addNoop("postSpanGamut"),T.addNoop("postConversion");var N,R,O,z;this.makeHtml=function(e){if(N)throw Error("Recursive call to converter.makeHtml");return N=new r,R=new r,O=[],z=0,e=T.preConversion(e),e=e.replace(/~/g,"~T"),e=e.replace(/\$/g,"~D"),e=e.replace(/\r\n/g,"\n"),e=e.replace(/\r/g,"\n"),e="\n\n"+e+"\n\n",e=S(e),e=e.replace(/^[ \t]+$/gm,""),e=T.postNormalization(e),e=n(e),e=t(e),e=i(e),e=A(e),e=e.replace(/~D/g,"$$"),e=e.replace(/~T/g,"~"),e=T.postConversion(e),O=R=N=null,e};var L=function(t){return i(t)},P={ol:"\\d+[.]",ul:"[*+-]"},H=/(?:["'*()[\]:]|~D)/g}}(),function(){function t(t){return t.replace(/^\s+|\s+$/g,"")}function n(t){return t.replace(/\s+$/g,"")}function e(t){return t.replace(RegExp("^(\\t|[ ]{1,4})","gm"),"")}function r(t,n){return-1!=t.indexOf(n)}function o(t,n){return t.replace(/<[^>]*>?/gi,function(t){return t.match(n)?t:""})}function i(t,n){for(var e={},r=0;t.length>r;r++)e[t[r]]=t[r];for(r=0;n.length>r;r++)e[n[r]]=n[r];var o=[];for(var i in e)e.hasOwnProperty(i)&&o.push(e[i]);return o}function a(t){return""!=t.charAt(0)&&(t=""+t),""!=t.charAt(t.length-1)&&(t+=""),t}function c(t){return""==t.charAt(0)&&(t=t.substr(1)),""==t.charAt(t.length-1)&&(t=t.substr(0,t.length-1)),t}function s(t,n){t=u(t);var e=n.makeHtml(t);return o(e,f)}function l(t,n){return t=u(t),n.makeHtml(t)}function u(t){return t=t.replace(/~D/g,"$$"),t=t.replace(/~T/g,"~")}function p(t){return t.replace(/\\\|/g,"&#124;").replace(/\\:/g,"&#58;")}function h(t){return""===t.hooks.postConversion("<table>")}var f=RegExp(["^(<\\/?(a|abbr|acronym|applet|area|b|basefont|","bdo|big|button|cite|code|del|dfn|em|figcaption|","font|i|iframe|img|input|ins|kbd|label|map|","mark|meter|object|param|progress|q|ruby|rp|rt|s|","samp|script|select|small|span|strike|strong|","sub|sup|textarea|time|tt|u|var|wbr)[^>]*>|","<(br)\\s?\\/?>)$"].join(""),"i");Array.indexOf||(Array.prototype.indexOf=function(t){for(var n=0;this.length>n;n++)if(this[n]==t)return n;return-1}),Markdown.Extra=function(){this.converter=null,this.hashBlocks=[],this.attributeBlocks=!1,this.googleCodePrettify=!1,this.highlightJs=!1,this.tableClass="",this.tabWidth=4},Markdown.Extra.init=function(t,n){var e=new Markdown.Extra,o=[];return n=n||{},n.extensions=n.extensions||["all"],r(n.extensions,"all")?(o.push("all"),e.attributeBlocks=!0):(r(n.extensions,"tables")&&o.push("tables"),r(n.extensions,"fenced_code_gfm")&&o.push("fencedCodeBlocks"),r(n.extensions,"def_list")&&o.push("definitionLists"),r(n.extensions,"attr_list")&&(e.attributeBlocks=!0)),t.hooks.chain("preBlockGamut",function(t){return e.doConversion(o,t)}),t.hooks.chain("postConversion",function(t){return e.finishConversion(t)}),"highlighter"in n&&(e.googleCodePrettify="prettify"===n.highlighter,e.highlightJs="highlight"===n.highlighter),"table_class"in n&&(e.tableClass=n.table_class),e.converter=h(t)?Markdown.getSanitizingConverter():new Markdown.Converter,e},Markdown.Extra.prototype.doConversion=function(t,n){n=p(n),this.attributeBlocks&&(n=this.hashAttributeBlocks(n));for(var e=0;t.length>e;e++)n=this[t[e]](n);return n+"\n"},Markdown.Extra.prototype.finishConversion=function(t){return t=this.unHashExtraBlocks(t),this.attributeBlocks&&(t=this.applyAttributeBlocks(t)),this.hashBlocks=[],t},Markdown.Extra.prototype.hashExtraBlock=function(t){return"\n<p>~X"+(this.hashBlocks.push(t)-1)+"X</p>\n"},Markdown.Extra.prototype.unHashExtraBlocks=function(t){var n=this;return t=t.replace(/<p>~X(\d+)X<\/p>/g,function(t,e){var r=parseInt(e,10);return n.hashBlocks[r]})},Markdown.Extra.prototype.hashAttributeBlocks=function(t){function n(t,n,e){return"<p>~XX"+(a.hashBlocks.push(e)-1)+"XX</p>\n"+n+"\n"}var e="\\{\\s*[.|#][^}]+\\}",r=RegExp("^(#{1,6}.*#{0,6})\\s+("+e+")[ \\t]*(\\n|0x03)","gm"),o=RegExp("^(.*)\\s+("+e+")[ \\t]*\\n"+"(?=[\\-|=]+\\s*(\\n|0x03))","gm"),i=RegExp("^(```[^{]*)\\s+("+e+")[ \\t]*\\n"+"(?=([\\s\\S]*?)\\n```\\s*(\\n|0x03))","gm"),a=this;return t=t.replace(r,n),t=t.replace(o,n),t.replace(i,n)},Markdown.Extra.prototype.applyAttributeBlocks=function(t){var n=this,e=RegExp('<p>~XX(\\d+)XX</p>[\\s]*(?:<(h[1-6]|pre)(?: +class="(\\S+)")?(>[\\s\\S]*?</\\2>))',"gm");return t=t.replace(e,function(t,e,r,o,a){if(!r)return"";for(var c=parseInt(e,10),s=n.hashBlocks[c],l=s.match(/#[^\s{}]+/g)||[],u=l[0]?' id="'+l[0].substr(1,l[0].length-1)+'"':"",p=s.match(/\.[^\s{}]+/g)||[],h=0;p.length>h;h++)p[h]=p[h].substr(1,p[h].length-1);var f="";return o&&(p=i(p,[o])),p.length>0&&(f=' class="'+p.join(" ")+'"'),"<"+r+u+f+a})},Markdown.Extra.prototype.tables=function(n){function e(n,e,o,i){e=e.replace(/^ *[|]/m,""),o=o.replace(/^ *[|]/m,""),i=i.replace(/^ *[|]/gm,""),e=e.replace(/[|] *$/m,""),o=o.replace(/[|] *$/m,""),i=i.replace(/[|] *$/gm,""),alignspecs=o.split(/ *[|] */),align=[];for(var a=0;alignspecs.length>a;a++){var c=alignspecs[a];align[a]=c.match(/^ *-+: *$/m)?' style="text-align:right;"':c.match(/^ *:-+: *$/m)?' style="text-align:center;"':c.match(/^ *:-+ *$/m)?' style="text-align:left;"':""}var l=e.split(/ *[|] */),u=l.length,p=r.tableClass?' class="'+r.tableClass+'"':"",h=["<table",p,">\n","<thead>\n","<tr>\n"].join("");for(a=0;u>a;a++){var f=s(t(l[a]),r.converter);h+=["  <th",align[a],">",f,"</th>\n"].join("")}h+="</tr>\n</thead>\n";var d=i.split("\n");for(a=0;d.length>a;a++)if(!d[a].match(/^\s*$/)){for(var g=d[a].split(/ *[|] */),m=u-g.length,v=0;m>v;v++)g.push("");for(h+="<tr>\n",v=0;u>v;v++){var y=s(t(g[v]),r.converter);h+=["  <td",align[v],">",y,"</td>\n"].join("")}h+="</tr>\n"}return h+="</table>\n",r.hashExtraBlock(h)}var r=this,o=RegExp(["^","[ ]{0,3}","[|]","(.+)\\n","[ ]{0,3}","[|]([ ]*[-:]+[-| :]*)\\n","(","(?:[ ]*[|].*\\n?)*",")","(?:\\n|$)"].join(""),"gm"),i=RegExp(["^","[ ]{0,3}","(\\S.*[|].*)\\n","[ ]{0,3}","([-:]+[ ]*[|][-| :]*)\\n","(","(?:.*[|].*\\n?)*",")","(?:\\n|$)"].join(""),"gm");return n=n.replace(o,e),n=n.replace(i,e)},Markdown.Extra.prototype.fencedCodeBlocks=function(t){function n(t){return t=t.replace(/&/g,"&amp;"),t=t.replace(/</g,"&lt;"),t=t.replace(/>/g,"&gt;")}var e=this;return t=t.replace(/(?:^|\n)```(.*)\n([\s\S]*?)\n```/g,function(t,r,o){var i=r,a=o,c=e.googleCodePrettify?' class="prettyprint"':"",s="";i&&(s=e.googleCodePrettify||e.highlightJs?' class="language-'+i+'"':' class="'+i+'"');var l=["<pre",c,"><code",s,">",n(a),"</code></pre>"].join("");return e.hashExtraBlock(l)})},Markdown.Extra.prototype.all=function(t){return t=this.tables(t),t=this.fencedCodeBlocks(t)},Markdown.Extra.prototype.definitionLists=function(n){var e=RegExp(["(\\x02\\n?|\\n\\n)","(?:","(","(","[ ]{0,3}","((?:[ \\t]*\\S.*\\n)+)","\\n?","[ ]{0,3}:[ ]+",")","([\\s\\S]+?)","(","(?=\\0x03)","|","(?=","\\n{2,}","(?=\\S)","(?!","[ ]{0,3}","(?:\\S.*\\n)+?","\\n?","[ ]{0,3}:[ ]+",")","(?!","[ ]{0,3}:[ ]+",")",")",")",")",")"].join(""),"gm"),r=this;return n=a(n),n=n.replace(e,function(n,e,o){var i=t(r.processDefListItems(o));return i="<dl>\n"+i+"\n</dl>",e+r.hashExtraBlock(i)+"\n\n"}),c(n)},Markdown.Extra.prototype.processDefListItems=function(r){var o=this,i=RegExp(["(\\x02\\n?|\\n\\n+)","(","[ ]{0,3}","(?![:][ ]|[ ])","(?:\\S.*\\n)+?",")","(?=\\n?[ ]{0,3}:[ ])"].join(""),"gm"),u=RegExp(["\\n(\\n+)?","(","[ ]{0,3}","[:][ ]+",")","([\\s\\S]+?)","(?=\\n*","(?:","\\n[ ]{0,3}[:][ ]|","<dt>|\\x03",")",")"].join(""),"gm");return r=a(r),r=r.replace(/\n{2,}(?=\\x03)/,"\n"),r=r.replace(i,function(n,e,r){for(var i=t(r).split("\n"),a="",c=0;i.length>c;c++){var l=i[c];l=s(t(l),o.converter),a+="\n<dt>"+l+"</dt>"}return a+"\n"}),r=r.replace(u,function(t,r,i,a){return r||a.match(/\n{2,}/)?(a=Array(i.length+1).join(" ")+a,a=e(a)+"\n\n",a="\n"+l(a,o.converter)+"\n"):(a=n(a),a=s(e(a),o.converter)),"\n<dd>"+a+"</dd>\n"}),c(r)}}(),function(){function t(t){return t.replace(/<[^>]*>?/gi,n)}function n(t){return t.match(i)||t.match(a)||t.match(c)?t:""}function e(t){if(""==t)return"";var n=/<\/?\w+[^>]*(\s|$|>)/g,e=t.toLowerCase().match(n),r=(e||[]).length;if(0==r)return t;for(var o,i,a,c="<p><img><br><li><hr>",s=[],l=[],u=!1,p=0;r>p;p++)if(o=e[p].replace(/<\/?(\w+).*/,"$1"),!(s[p]||c.search("<"+o+">")>-1)){if(i=e[p],a=-1,!/^<\//.test(i))for(var h=p+1;r>h;h++)if(!s[h]&&e[h]=="</"+o+">"){a=h;break}-1==a?u=l[p]=!0:s[a]=!0}if(!u)return t;var p=0;return t=t.replace(n,function(t){var n=l[p]?"":t;return p++,n})}var r,o;"object"==typeof exports&&"function"==typeof require?(r=exports,o=require("./Markdown.Converter").Converter):(r=window.Markdown,o=r.Converter),r.getSanitizingConverter=function(){var n=new o;return n.hooks.chain("postConversion",t),n.hooks.chain("postConversion",e),n};var i=/^(<\/?(b|blockquote|code|del|dd|dl|dt|em|h1|h2|h3|i|kbd|li|ol|p|pre|s|sup|sub|strong|strike|ul)>|<(br|hr)\s?\/?>)$/i,a=/^(<a\shref="((https?|ftp):\/\/|\/)[-A-Za-z0-9+&@#\/%?=~_|!:,.;\(\)]+"(\stitle="[^"<>]+")?\s?>|<\/a>)$/i,c=/^(<img\ssrc="(https?:\/\/|\/)[-A-Za-z0-9+&@#\/%?=~_|!:,.;\(\)]+"(\swidth="\d{1,3}")?(\sheight="\d{1,3}")?(\salt="[^"<>]*")?(\stitle="[^"<>]*")?\s?\/?>)$/i}();var mentDoc=function(){function t(t,n){this.el=t,this.parent=n||null,this.attrs={},this.children=[],this.data=n?i(n.data):{},this.el.style.textDecoration="none",this.refreshAttrs(),this.updateChildren()}function n(t,r,i){var a;if(t&&r)if(i=i||t,o(t))for(a in t)"prototype"!=a&&"length"!=a&&"name"!=a&&t.hasOwnProperty(a)&&r.call(i,t[a],a);else if(t.forEach&&t.forEach!==n)t.forEach(r,i);else if(e(t)||t.hasOwnProperty("length"))for(a=0;t.length>a;a++)r.call(i,t[a],a);else for(a in t)t.hasOwnProperty(a)&&r.call(i,t[a],a);return t}function e(t){return"[object Array]"===Object.prototype.toString.call(t)}function r(t){return"object"==typeof t&&null!==t}function o(t){return"function"==typeof t}function i(t){if(Object.create)return Object.create(t);var n=function(){};return n.prototype=t,new n}var a,c={},s=1;return t.isCommandsEl=function(t){return t.nodeType===s&&"U"===t.nodeName},t.prototype={constructor:t,isRoot:!1,refreshAttrs:function(){return this.attrs={},n(this.el.attributes,function(t){if(t.specified){var n=t.name,e=this.el.getAttribute(n,3);this.attrs[a.normalizeAttr(n)]=e}},this),this},updateChildren:function(){return this.children=[],this._loopThroughEl(this.el.childNodes),this},_loopThroughEl:function(e){return n(e,function(n){if(t.isCommandsEl(n)){var e=new t(n,this);this.children.push(e),e.updateChildren()}else n.nodeType===s&&this._loopThroughEl(n.childNodes)},this),this},execute:function(){return n(this._sortedCommands(),function(t){c[t].execute(this.el,this.attrs[t],this)},this),this.executeChildren(),this},executeChildren:function(){return n(this.children,function(t){t.execute()}),this},_sortedCommands:function(){var t=[];return n(this.attrs,function(n,e){c[e]&&t.push(e)},this),t.sort(function(t,n){return c[t].priority-c[n].priority})},getElContent:function(){return this.el.innerHTML}},a={Commands:t,compile:function(n){var e;e=document.createElement("u"),e.innerHTML=n;var r=new t(e);return r.isRoot=!0,r},priority:{high:10,medium:20,low:30,"default":30},registeredCommands:c,addCommand:function(t,n){if("function"==typeof n&&(n={execute:n}),n.priority){if("string"==typeof n.priority)n.priority=this.priority[n.priority];else if(isNaN(n.priority))throw"Unknown priority given : "+n.priority}else n.priority=this.priority["default"];c[t]=n},normalizeAttr:function(){function t(t){return t.replace(e,function(t,n,e,r){return r?e.toUpperCase():e}).replace(r,"Moz$1")}var n=/^(x[\:\-_]|data[\:\-_])/i,e=/([\:\-\_]+(.))/g,r=/^moz([A-Z])/;return function(e){return t(e.replace(n,""))}}(),forEach:n,isArray:e,isObject:r,isFn:o,makeInherit:i}}();mentDoc.addCommand("inEl",function(t,n,e){e.data.inEl=n}),mentDoc.addCommand("appendTo",function(t,n,e){$(n,e.data.inEl).append(e.getElContent())}),mentDoc.addCommand("empty",function(t,n,e){$(n,e.data.inEl).empty()}),mentDoc.addCommand("remove",function(t,n,e){$(n,e.data.inEl).remove()}),mentDoc.addCommand("markdown",{priority:"high",execute:function(t,n,e){var r=Markdown.getSanitizingConverter();Markdown.Extra.init(r,{extensions:"all",highlighter:"prettify"});var o=e.getElContent(),i=o.match(/(\t| )+\^\^\^/g);if(i){var a=i[0].length-3;lines=o.split(/\n/g);for(var c=0;lines.length>c;c++)lines[c]=lines[c].substring(a),"^^^"===lines[c]&&(lines[c]="");o=lines.join("\n")}e.data.compiledMarkdown=r.makeHtml(o),e.getElContent=function(){return e.data.compiledMarkdown}}}),"undefined"!=typeof module&&module.exports&&(module.exports.mentDoc=mentDoc);